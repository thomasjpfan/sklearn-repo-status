<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <title>{{ repo }} Repository Status</title>
</head>

<body>
  <div class="container px-4 mt-5 text-center">
    <a href="https://github.com/{{ repo }}"><img class="d-block mx-auto mb-4" src="assets/{{ logo }}" alt="Logo" width="210"></a>
    <h1 class="display-3 fw-bold">Repository Status</h1>
    <div class="col-lg-9 mx-auto">
      <h2 class="display-5">{{ current_month }} {{ current_year }}</h2>
      <p class="text-muted">(Updated on {{ current_datetime }})</p>

      <div class="row row-cols-1 row-cols-sm-2 mb-2 text-center">
        <div class="col">
          <div class="card mb-4 rounded-3 shadow-sm">
            <div class="card-header py-2">
              <h4 class="my-0 fw-normal">Issues</h4>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item list-group-item-success "><strong>Closed:</strong> {{ current_issues_closed }}</li>
              <li class="list-group-item list-group-item-primary"><strong>Opened:</strong> {{ current_issues_opened }}</li>
              <li class="list-group-item list-group-item-warning"><strong>Delta: {{ current_issues_delta }}</strong></li>
            </ul>
          </div>
        </div>
        <div class="col">
          <div class="card mb-4 rounded-3 shadow-sm">
            <div class="card-header py-2">
              <h4 class="my-0 fw-normal">Pull Requests</h4>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item list-group-item-success"><strong>Merged | Closed:</strong> {{ current_pulls_closed }}</li>
              <li class="list-group-item list-group-item-primary"><strong>Opened:</strong> {{ current_pulls_opened }}</li>
              <li class="list-group-item list-group-item-warning"><strong>Delta: {{ current_pulls_delta }}</strong></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-9 mx-auto">
      <h2 class="display-5">Previous Months</h2>
      <div class="row row-cols-1 row-cols-md-2 mb-2 text-center">
        <div class="col mb-2">
          <div class="card rounded-3 shadow-sm">
            <div class="card-header py-2">
              <h4 class="my-0 fw-normal">Issues</h4>
            </div>
            <table class="table table-sm mb-0">
              <thead>
                <tr>
                  <th scope="col"></th>
                  {% for month in previous_months %}
                  <th scope="col">{{ month }}</th>
                  {% endfor %}
                </tr>
              </thead>
              <tbody>
                <tr class="table-success">
                  <th scope="row">Closed</th>
                  {% for num in previous_issues_closed %}
                  <td>{{ num }}</td>
                  {% endfor %}
                </tr>
                <tr class="table-primary">
                  <th scope="row">Opened</th>
                  {% for num in previous_issues_opened %}
                  <td>{{ num }}</td>
                  {% endfor %}
                </tr>
                <tr class="table-warning">
                  <th scope="row">Delta</th>
                  {% for num in previous_issues_delta %}
                  <td>{{ num }}</td>
                  {% endfor %}
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="col mb-2">
          <div class="card rounded-3 shadow-sm">
            <div class="card-header py-2">
              <h4 class="my-0 fw-normal">Pull Requests</h4>
            </div>
            <table class="table table-sm mb-0">
              <thead>
                <tr>
                  <th scope="col"></th>
                  {% for month in previous_months %}
                  <th scope="col">{{ month }}</th>
                  {% endfor %}
                </tr>
              </thead>
              <tbody>
                <tr class="table-success">
                  <th scope="row">Merged | Closed</th>
                  {% for num in previous_pulls_closed %}
                  <td>{{ num }}</td>
                  {% endfor %}
                </tr>
                <tr class="table-primary">
                  <th scope="row">Opened</th>
                  {% for num in previous_pulls_opened %}
                  <td>{{ num }}</td>
                  {% endfor %}
                </tr>
                <tr class="table-warning">
                  <th scope="row">Delta</th>
                  {% for num in previous_pulls_delta %}
                  <td>{{ num }}</td>
                  {% endfor %}
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-12 mx-auto">
      <div class="row row-cols-1 row-cols-md-2 mb-2 text-center">
        <div class="col">
          <h3>Issues</h3>
          <img class="d-block mx-auto mb-4" src="assets/issues.svg" alt="Pull Requests" width="100%">
        </div>
        <div class="col">
          <h3>Pull Requests</h3>
          <img class="d-block mx-auto mb-4" src="assets/pulls.svg" alt="Pull Requests" width="100%">
        </div>
      </div>
    </div>
  </div>
  <footer class="bd-footer py-4 mt-3 bg-light text-center">
    <a href="assets/{{ cache }}" class="btn btn-secondary btn-sm" role="button">Data</a>
    <a href="https://github.com/thomasjpfan/sklearn-repo-status" class="btn btn-secondary btn-sm" role="button">GitHub</a>
  </footer>
</body>

</html>
